# Agent Workflows Guide

## üéØ Objetivo
Este guia fornece prompts e workflows otimizados para usar m√∫ltiplos agents de forma eficiente no desenvolvimento do Chefia POS.

---

## üìã Workflows Principais

### 1. üöÄ Workflow de Nova Feature Completa
**Agents envolvidos:** feature-planner ‚Üí database-architect ‚Üí test-generator ‚Üí code-best-practices-reviewer ‚Üí docs-writer

```
Prompt Exemplo:
"Preciso implementar um sistema de [NOME DA FEATURE]. 
1. Use o feature-planner para quebrar em tarefas
2. Use o database-architect para modelar os dados necess√°rios
3. Implemente a feature
4. Use o test-generator para criar testes
5. Use o code-best-practices-reviewer para validar o c√≥digo
6. Use o docs-writer para documentar"
```

### 2. üêõ Workflow de Corre√ß√£o de Bug
**Agents envolvidos:** bug-fixer ‚Üí test-generator ‚Üí code-best-practices-reviewer

```
Prompt Exemplo:
"Estou com o seguinte erro: [DESCRI√á√ÉO DO ERRO]
1. Use o bug-fixer para diagnosticar e corrigir
2. Use o test-generator para criar testes que previnam regress√£o
3. Use o code-best-practices-reviewer para garantir qualidade"
```

### 3. üìä Workflow de An√°lise e Otimiza√ß√£o
**Agents envolvidos:** data-insights-expert ‚Üí code-simplifier ‚Üí code-best-practices-reviewer

```
Prompt Exemplo:
"Preciso otimizar [√ÅREA DO C√ìDIGO/FEATURE]
1. Use o data-insights-expert para analisar m√©tricas de performance
2. Use o code-simplifier para refatorar c√≥digo complexo
3. Use o code-best-practices-reviewer para validar melhorias"
```

### 4. üé® Workflow de UI/UX Review
**Agents envolvidos:** ui-ux-reviewer ‚Üí test-generator ‚Üí docs-writer

```
Prompt Exemplo:
"Acabei de implementar [NOME DA TELA/COMPONENTE]
1. Use o ui-ux-reviewer para avaliar a interface
2. Implemente as melhorias sugeridas
3. Use o test-generator para criar testes de UI
4. Use o docs-writer para documentar padr√µes de UI"
```

### 5. üóÑÔ∏è Workflow de Database e Backend
**Agents envolvidos:** database-architect ‚Üí test-generator ‚Üí docs-writer

```
Prompt Exemplo:
"Preciso criar/modificar estrutura de dados para [FUNCIONALIDADE]
1. Use o database-architect para modelar schema
2. Implemente migrations e models
3. Use o test-generator para criar testes de integra√ß√£o
4. Use o docs-writer para documentar API"
```

### 6. üö¢ Workflow de Deploy e DevOps
**Agents envolvidos:** local-devops-manager ‚Üí test-generator ‚Üí docs-writer

```
Prompt Exemplo:
"Preciso configurar/debugar [AMBIENTE/SERVI√áO]
1. Use o local-devops-manager para configurar ambiente
2. Execute testes com o ambiente configurado
3. Use o docs-writer para documentar setup"
```

---

## üé≠ Prompts Espec√≠ficos por Agent

### feature-planner
```
"Planeje a implementa√ß√£o de [FEATURE] considerando:
- Arquitetura atual do projeto
- Integra√ß√£o com m√≥dulos existentes
- Estimativa de complexidade
- Depend√™ncias e riscos"
```

### database-architect
```
"Modele o banco de dados para [FEATURE] incluindo:
- Tabelas e relacionamentos
- √çndices necess√°rios
- Estrat√©gia de migra√ß√£o
- Considera√ß√µes de performance"
```

### test-generator
```
"Crie testes abrangentes para [M√ìDULO/FEATURE]:
- Testes unit√°rios
- Testes de integra√ß√£o
- Testes E2E se aplic√°vel
- Casos extremos e valida√ß√µes"
```

### code-best-practices-reviewer
```
"Revise o c√≥digo rec√©m implementado verificando:
- Padr√µes do projeto
- Code smells
- Performance
- Seguran√ßa
- Acessibilidade"
```

### ui-ux-reviewer
```
"Avalie a UI/UX de [COMPONENTE/TELA] considerando:
- Usabilidade
- Acessibilidade (WCAG)
- Responsividade
- Consist√™ncia visual
- Performance de renderiza√ß√£o"
```

### bug-fixer
```
"Debug e corrija o seguinte problema:
[ERRO/STACK TRACE]
Contexto: [QUANDO OCORRE]
Comportamento esperado: [O QUE DEVERIA ACONTECER]"
```

### local-devops-manager
```
"Configure/gerencie [SERVI√áO/AMBIENTE]:
- Setup inicial
- Troubleshooting
- Otimiza√ß√£o
- Automa√ß√£o de tarefas"
```

### docs-writer
```
"Documente [FEATURE/API/COMPONENTE]:
- README se necess√°rio
- Coment√°rios inline
- API documentation
- Guias de uso"
```

### data-insights-expert
```
"Analise [DADOS/M√âTRICAS] para:
- Identificar padr√µes
- Sugerir otimiza√ß√µes
- Prever tend√™ncias
- Recomendar KPIs"
```

### code-simplifier
```
"Refatore [C√ìDIGO/COMPONENTE] para:
- Reduzir complexidade
- Melhorar legibilidade
- Eliminar duplica√ß√£o
- Aplicar design patterns"
```

---

## üí° Dicas de Uso

### Executar Agents em Paralelo
Quando poss√≠vel, execute agents independentes simultaneamente:
```
"Execute em paralelo:
1. test-generator para criar testes do m√≥dulo X
2. docs-writer para documentar m√≥dulo Y
3. ui-ux-reviewer para revisar tela Z"
```

### Combinar Agents para Tarefas Complexas
```
"Para implementar sistema de notifica√ß√µes:
1. feature-planner: crie roadmap detalhado
2. database-architect: modele estrutura de dados
3. Implemente backend seguindo o plano
4. ui-ux-reviewer: revise componentes de UI
5. test-generator: crie suite de testes
6. code-best-practices-reviewer: valide implementa√ß√£o
7. docs-writer: documente API e componentes"
```

### Usar Agents Proativamente
```
"Ap√≥s implementar [FEATURE], automaticamente:
- Execute code-best-practices-reviewer
- Execute test-generator para gaps de teste
- Execute ui-ux-reviewer se houver UI"
```

---

## üìä Matriz de Decis√£o de Agents

| Situa√ß√£o | Agents Recomendados | Ordem |
|----------|-------------------|--------|
| Nova feature complexa | feature-planner ‚Üí database-architect ‚Üí test-generator ‚Üí code-best-practices-reviewer | Sequencial |
| Bug cr√≠tico | bug-fixer ‚Üí test-generator | Sequencial |
| Refatora√ß√£o | code-simplifier ‚Üí test-generator ‚Üí code-best-practices-reviewer | Sequencial |
| Nova UI | ui-ux-reviewer ‚Üí test-generator | Paralelo poss√≠vel |
| Otimiza√ß√£o de performance | data-insights-expert ‚Üí code-simplifier | Sequencial |
| Setup de ambiente | local-devops-manager ‚Üí docs-writer | Sequencial |
| Documenta√ß√£o pendente | docs-writer | Independente |
| Code review completo | code-best-practices-reviewer ‚Üí ui-ux-reviewer ‚Üí test-generator | Paralelo poss√≠vel |

---

## üîÑ Workflow de CI/CD

### Pre-commit
```
"Antes de commitar:
1. code-best-practices-reviewer: valide mudan√ßas
2. test-generator: verifique cobertura
3. Execute linting e testes"
```

### Pre-deploy
```
"Antes do deploy:
1. local-devops-manager: valide configura√ß√µes
2. test-generator: execute suite completa
3. docs-writer: atualize changelog"
```

---

## üìù Templates de Prompt

### Template Feature Completa
```
Vou implementar [NOME DA FEATURE] que [DESCRI√á√ÉO].

Requisitos:
- [REQ 1]
- [REQ 2]

Por favor:
1. Use feature-planner para criar plano detalhado
2. Use database-architect se precisar de mudan√ßas no BD
3. Ap√≥s implementa√ß√£o, use test-generator
4. Use code-best-practices-reviewer para validar
5. Use ui-ux-reviewer se tiver interface
6. Use docs-writer para documentar

Execu√ß√£o paralela quando poss√≠vel.
```

### Template Debug
```
Erro: [MENSAGEM DE ERRO]
Arquivo: [CAMINHO]
Linha: [N√öMERO]
Contexto: [QUANDO OCORRE]

Use bug-fixer para diagnosticar e corrigir.
Depois use test-generator para prevenir regress√£o.
```

### Template Otimiza√ß√£o
```
Preciso otimizar [√ÅREA/FEATURE] porque [RAZ√ÉO].

M√©tricas atuais:
- [M√âTRICA 1]: [VALOR]
- [M√âTRICA 2]: [VALOR]

Use data-insights-expert para analisar.
Use code-simplifier para refatorar.
Valide com code-best-practices-reviewer.
```

---

## üéØ Melhores Pr√°ticas

1. **Sempre forne√ßa contexto claro** - Os agents funcionam melhor com informa√ß√µes espec√≠ficas
2. **Use m√∫ltiplos agents** - Combine diferentes perspectivas para resultados melhores
3. **Itere com feedback** - Use output de um agent como input para outro
4. **Documente sempre** - Use docs-writer ap√≥s implementa√ß√µes significativas
5. **Teste continuamente** - Use test-generator durante desenvolvimento, n√£o apenas no final
6. **Revise proativamente** - Use reviewers antes de finalizar, n√£o depois
7. **Paralelize quando poss√≠vel** - Execute agents independentes simultaneamente
8. **Mantenha qualidade** - Use code-best-practices-reviewer regularmente

---

## üìà M√©tricas de Sucesso

- ‚úÖ Cobertura de testes > 80%
- ‚úÖ Zero warnings de best practices
- ‚úÖ Documenta√ß√£o atualizada
- ‚úÖ UI/UX validada
- ‚úÖ Performance otimizada
- ‚úÖ C√≥digo simplificado e mant√≠vel

---

## üö® Quando Usar Cada Agent

| Agent | Use Quando | N√£o Use Quando |
|-------|------------|----------------|
| feature-planner | Iniciar feature nova | Corre√ß√µes simples |
| database-architect | Mudan√ßas em schema | Queries simples |
| test-generator | Ap√≥s implementa√ß√£o | C√≥digo experimental |
| code-best-practices-reviewer | Antes de PR/commit | Prot√≥tipos r√°pidos |
| ui-ux-reviewer | Nova UI implementada | Backend only |
| bug-fixer | Erros complexos | Typos simples |
| local-devops-manager | Setup/config issues | L√≥gica de neg√≥cio |
| docs-writer | Feature completa | WIP code |
| data-insights-expert | An√°lise de dados | CRUD simples |
| code-simplifier | C√≥digo complexo | C√≥digo j√° simples |

---

## üí¨ Exemplos de Conversa√ß√£o

### Exemplo 1: Feature Nova
```
User: "Preciso adicionar sistema de cupons de desconto"

Assistant com Agents:
"Vou ajudar voc√™ a implementar o sistema de cupons. Vou usar uma abordagem estruturada:

1. Primeiro, vou usar o feature-planner para criar um plano detalhado
2. Em seguida, o database-architect para modelar as tabelas necess√°rias
3. Ap√≥s a implementa√ß√£o, usarei o test-generator
4. Finalmente, code-best-practices-reviewer e docs-writer

Iniciando com o feature-planner..."
```

### Exemplo 2: Bug Fix
```
User: "O carrinho est√° calculando o total errado quando tem desconto"

Assistant com Agents:
"Vou diagnosticar e corrigir esse bug no c√°lculo do carrinho.

Usando o bug-fixer para analisar o problema...
[Diagn√≥stico e corre√ß√£o]

Agora vou usar o test-generator para criar testes que previnam esse bug no futuro..."
```

---

## üîß Configura√ß√£o Personalizada

Voc√™ pode personalizar os workflows baseado nas necessidades do seu projeto:

1. Ajuste a ordem dos agents
2. Adicione valida√ß√µes espec√≠ficas
3. Configure thresholds de qualidade
4. Defina processos autom√°ticos

---

## üìö Recursos Adicionais

- Documenta√ß√£o de cada agent em `.claude/agents/`
- CLAUDE.md para guidelines do projeto
- README.md para vis√£o geral do sistema

---

*√öltima atualiza√ß√£o: 2025-08-27*
*Vers√£o: 1.0.0*